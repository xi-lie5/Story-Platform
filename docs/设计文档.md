# 设计文档

## 1. 整体设计规范

### 1.1 设计理念

StoryForge的设计理念是简洁、现代、易用，注重用户体验和视觉美感。设计风格采用了清新、明快的色调，以靛蓝色为主色调，代表创造力和智慧，粉色为辅助色，代表想象力。整体设计遵循了以下原则：

- **简洁性**：界面简洁明了，减少不必要的装饰元素
- **一致性**：保持统一的设计语言和交互模式
- **易用性**：操作流程直观，减少用户学习成本
- **视觉层次**：通过色彩、字体大小、间距等元素建立清晰的视觉层次
- **响应式设计**：适配不同屏幕尺寸和设备

### 1.2 设计目标

- 提供直观、高效的故事创作环境
- 支持多种故事创作模式
- 实现故事的可视化编辑
- 提供完善的用户管理和作品管理功能
- 构建一个活跃的故事创作社区

## 2. 页面布局结构规范

### 2.1 整体布局

StoryForge的页面布局采用了经典的三部分结构：

1. **导航栏**：位于页面顶部，包含logo、导航链接、用户信息等
2. **主要内容区**：位于页面中部，展示核心内容
3. **页脚**：位于页面底部，包含版权信息、联系方式等

### 2.2 导航栏设计

#### 2.2.1 桌面端导航栏

- **高度**：64px
- **背景**：半透明白色，带有毛玻璃效果
- **内容**：
  - Logo区域：左侧显示网站logo和名称
  - 导航链接：中间显示主要导航链接，包括首页、探索故事、创建故事、我的作品、我的收藏、个人中心、关于
  - 用户信息区域：右侧显示用户头像、用户名、下拉菜单等

#### 2.2.2 移动端导航栏

- **高度**：56px
- **背景**：半透明白色，带有毛玻璃效果
- **内容**：
  - Logo区域：左侧显示网站logo和名称
  - 移动端菜单按钮：右侧显示汉堡菜单图标
  - 移动端菜单：点击菜单按钮后，从顶部或侧边滑出的菜单，包含所有导航链接和用户信息

### 2.3 主要内容区设计

- **布局**：采用响应式网格布局，根据屏幕尺寸自动调整列数
- **间距**：内容区域与导航栏、页脚的间距为24px
- **卡片设计**：主要内容采用卡片式设计，包含标题、描述、操作按钮等
- **阴影效果**：卡片使用轻微的阴影效果，增强层次感

### 2.4 页脚设计

- **高度**：80px
- **背景**：深色背景
- **内容**：版权信息、联系方式、社交媒体链接等

## 3. 交互流程设计文档

### 3.1 用户注册登录流程

1. **注册流程**：
   - 用户点击注册按钮
   - 进入注册页面，输入注册信息（邮箱/手机号、密码、验证码）
   - 点击注册按钮，系统验证信息
   - 注册成功，跳转到首页

2. **登录流程**：
   - 用户点击登录按钮
   - 进入登录页面，输入登录信息（邮箱/手机号、密码）
   - 点击登录按钮，系统验证信息
   - 登录成功，跳转到首页

3. **忘记密码流程**：
   - 用户点击忘记密码链接
   - 进入密码找回页面，输入邮箱/手机号
   - 点击发送验证码按钮，系统发送验证码
   - 用户输入验证码，设置新密码
   - 密码重置成功，跳转到登录页面

### 3.2 故事创作流程

1. **故事创建流程**：
   - 用户点击创建故事按钮
   - 进入故事创建页面，输入故事基本信息（标题、描述、分类等）
   - 点击创建按钮，系统创建故事
   - 跳转到故事编辑页面

2. **故事节点编辑流程**：
   - 用户在故事编辑页面点击添加节点按钮
   - 弹出节点编辑对话框，输入节点信息（标题、内容、类型等）
   - 点击保存按钮，系统保存节点
   - 节点显示在故事树中

3. **故事分支创建流程**：
   - 用户在故事树中选择一个节点
   - 点击添加分支按钮
   - 弹出分支编辑对话框，输入分支信息（名称、目标节点等）
   - 点击保存按钮，系统保存分支
   - 分支显示在故事树中

### 3.3 故事发布流程

1. **故事审核流程**：
   - 用户点击发布故事按钮
   - 系统验证故事内容
   - 故事状态变为待审核
   - 管理员审核故事
   - 审核通过，故事状态变为已发布；审核不通过，故事状态变为已拒绝

2. **故事分享流程**：
   - 用户在故事详情页点击分享按钮
   - 弹出分享选项（复制链接、社交媒体分享等）
   - 用户选择分享方式
   - 完成分享

## 4. 样式规范

### 4.1 色彩规范

#### 4.1.1 主色调

| 颜色名称 | 颜色值 | 用途 |
| --- | --- | --- |
| 主色调 | #6366f1（靛蓝色） | 按钮、链接、强调文本等 |
| 辅助色 | #ec4899（粉色） | 次要按钮、提示信息等 |
| 成功色 | #10b981（绿色） | 成功提示、已完成状态等 |
| 警告色 | #f59e0b（黄色） | 警告信息、待审核状态等 |
| 错误色 | #ef4444（红色） | 错误提示、删除按钮等 |
| 中性色 | #374151（深灰色） | 主要文本 |
| 中性色 | #6b7280（中灰色） | 次要文本 |
| 中性色 | #f3f4f6（浅灰色） | 背景色 |

#### 4.1.2 渐变色彩

- 主渐变：从#6366f1到#ec4899
- 用途：logo、背景装饰、强调元素等

### 4.2 字体规范

#### 4.2.1 字体族

- **主要字体**：Inter，system-ui，sans-serif
- **标题字体**：Playfair Display，serif

#### 4.2.2 字体大小

| 字体大小 | 用途 |
| --- | --- |
| 36px（2.25rem） | 大标题 |
| 28px（1.75rem） | 中标题 |
| 24px（1.5rem） | 小标题 |
| 18px（1.125rem） | 正文标题 |
| 16px（1rem） | 主要正文 |
| 14px（0.875rem） | 次要正文 |
| 12px（0.75rem） | 辅助文本 |

#### 4.2.3 字体重量

- **常规**：400
- **中等**：500
- **半粗体**：600
- **粗体**：700

### 4.3 间距规范

| 间距大小 | 用途 |
| --- | --- |
| 4px（0.25rem） | 小间距，用于图标与文本之间 |
| 8px（0.5rem） | 内边距，用于按钮、卡片等元素的内边距 |
| 12px（0.75rem） | 间距，用于表单元素之间 |
| 16px（1rem） | 主要间距，用于区块之间 |
| 24px（1.5rem） | 大间距，用于页面主要内容区域 |
| 32px（2rem） | 超大间距，用于特殊区块 |

### 4.4 边框和圆角规范

#### 4.4.1 边框

- **边框宽度**：1px
- **边框颜色**：#e5e7eb
- **边框样式**：实线

#### 4.4.2 圆角

| 圆角大小 | 用途 |
| --- | --- |
| 4px（0.25rem） | 小按钮、输入框等 |
| 8px（0.5rem） | 常规按钮、卡片等 |
| 12px（0.75rem） | 大按钮、弹窗等 |
| 16px（1rem） | 特殊卡片、弹窗等 |
| 24px（1.5rem） | 大型区块、模态框等 |

### 4.5 阴影规范

| 阴影名称 | 阴影效果 | 用途 |
| --- | --- | --- |
| 小阴影 | 0 1px 3px rgba(0, 0, 0, 0.1) | 常规卡片、按钮等 |
| 中阴影 | 0 4px 6px rgba(0, 0, 0, 0.1) | 悬浮状态、弹窗等 |
| 大阴影 | 0 10px 15px rgba(0, 0, 0, 0.1) | 下拉菜单、模态框等 |

## 5. UI组件设计规范

### 5.1 按钮组件

#### 5.1.1 主要按钮

- **样式**：主色调背景，白色文本，圆角8px
- **大小**：
  - 常规：48px高度，16px间距
  - 小按钮：32px高度，12px间距
  - 大按钮：56px高度，20px间距
- **交互**：
  - 悬浮状态：背景色变深，添加阴影效果
  - 点击状态：背景色进一步变深，按钮轻微下沉

#### 5.1.2 次要按钮

- **样式**：白色背景，主色调边框和文本，圆角8px
- **大小**：与主要按钮相同
- **交互**：
  - 悬浮状态：背景色变为浅灰色
  - 点击状态：背景色进一步变深

#### 5.1.3 图标按钮

- **样式**：圆形，白色背景，主色调图标，圆角50%
- **大小**：40px直径
- **交互**：
  - 悬浮状态：背景色变为浅灰色
  - 点击状态：背景色进一步变深

### 5.2 输入框组件

- **样式**：白色背景，灰色边框，圆角8px
- **大小**：48px高度，16px内边距
- **交互**：
  - 聚焦状态：边框变为主色调，添加阴影效果
  - 错误状态：边框变为红色，显示错误信息

### 5.3 卡片组件

- **样式**：白色背景，灰色边框，圆角12px，轻微阴影
- **内容**：
  - 卡片标题：粗体，18px字体大小
  - 卡片描述：常规，14px字体大小，灰色文本
  - 操作按钮：位于卡片底部或右侧
- **交互**：
  - 悬浮状态：阴影加深，轻微上浮

### 5.4 弹窗组件

- **样式**：白色背景，圆角16px，中等阴影
- **内容**：
  - 弹窗标题：粗体，20px字体大小
  - 弹窗内容：常规，16px字体大小
  - 操作按钮：位于弹窗底部，左右分布
- **交互**：
  - 显示动画：从中心弹出，带有淡入效果
  - 关闭动画：向中心收缩，带有淡出效果

### 5.5 导航菜单组件

- **样式**：白色背景，圆角12px，中等阴影
- **内容**：导航链接列表
- **交互**：
  - 悬浮状态：背景色变为浅灰色
  - 点击状态：背景色进一步变深，跳转到对应页面

## 6. 响应式设计的具体实现要求

### 6.1 断点设计

| 断点名称 | 屏幕宽度 | 布局调整 |
| --- | --- | --- |
| 移动端 | < 640px | 单列布局，隐藏桌面端导航，显示移动端菜单 |
| 平板端 | 640px - 1024px | 双列布局，调整字体大小和间距 |
| 桌面端 | > 1024px | 三列或多列布局，显示完整导航栏 |

### 6.2 布局调整原则

- **流体布局**：使用相对单位（rem、%）代替固定单位（px）
- **弹性盒模型**：使用Flexbox和Grid实现灵活的布局
- **内容优先级**：在小屏幕设备上，优先显示核心内容，隐藏次要内容
- **字体大小调整**：根据屏幕尺寸调整字体大小，确保在小屏幕上仍能清晰阅读
- **间距调整**：根据屏幕尺寸调整元素间距，确保在小屏幕上不会过于拥挤

### 6.3 图片和媒体处理

- **响应式图片**：使用srcset和sizes属性，根据屏幕尺寸加载不同大小的图片
- **图片懒加载**：实现图片懒加载，提高页面加载速度
- **视频响应式**：使用aspect-ratio属性，确保视频在不同屏幕尺寸下保持正确的宽高比

## 7. 动画和过渡效果设计规范

### 7.1 动画原则

- **简洁性**：动画效果简洁明了，不使用过于复杂的动画
- **一致性**：保持统一的动画风格和时长
- **性能优化**：使用CSS3动画，避免使用JavaScript动画
- **用户控制**：允许用户关闭或调整动画效果

### 7.2 过渡效果

- **按钮过渡**：
  - 背景色变化：0.2秒
  - 阴影变化：0.2秒
  - 变换效果：0.3秒

- **页面过渡**：
  - 页面切换：0.3秒
  - 元素显示/隐藏：0.2秒

- **表单验证过渡**：
  - 错误信息显示：0.2秒
  - 输入框状态变化：0.2秒

### 7.3 微交互

- **悬停效果**：
  - 按钮悬浮：背景色变化，添加阴影
  - 链接悬浮：文本颜色变化，添加下划线
  - 卡片悬浮：轻微上浮，阴影加深

- **点击反馈**：
  - 按钮点击：轻微下沉效果
  - 图标点击：颜色变化

- **加载状态**：
  - 加载指示器：旋转动画
  - 内容加载：渐入效果

## 8. 设计系统和组件库

### 8.1 设计系统

StoryForge使用了统一的设计系统，包括：

- **颜色系统**：定义了所有使用的颜色及其用途
- **字体系统**：定义了字体族、字体大小、字体重量等
- **间距系统**：定义了统一的间距单位
- **组件库**：包含所有UI组件的设计规范和代码实现

### 8.2 组件库

StoryForge的组件库使用了Tailwind CSS框架，包含以下组件：

- 按钮组件
- 输入框组件
- 卡片组件
- 弹窗组件
- 导航菜单组件
- 表单组件
- 表格组件
- 数据可视化组件

## 9. 设计文件管理

### 9.1 设计工具

StoryForge使用Figma作为主要设计工具，包含以下设计文件：

- **设计系统文件**：包含颜色、字体、间距等设计规范
- **组件库文件**：包含所有UI组件的设计规范
- **页面设计文件**：包含所有页面的设计稿

### 9.2 设计版本管理

- 设计文件使用Figma的版本历史功能进行版本管理
- 每个设计变更都需要添加版本说明
- 设计文件定期备份

### 9.3 设计评审流程

1. 设计师完成设计稿
2. 提交设计评审请求
3. 团队进行设计评审
4. 根据评审意见修改设计稿
5. 确认设计稿，提交开发

## 10. 开发实现指南

### 10.1 技术栈

- **前端**：HTML5、CSS3、JavaScript (ES6+)、Tailwind CSS
- **后端**：Node.js、Express、MongoDB
- **设计工具**：Figma

### 10.2 代码规范

- **HTML规范**：使用语义化HTML标签，保持清晰的文档结构
- **CSS规范**：使用Tailwind CSS，遵循BEM命名规范
- **JavaScript规范**：使用ES6+语法，遵循ESLint规范
- **代码注释**：关键代码添加注释，提高代码可读性

### 10.3 实现流程

1. 设计师提交设计稿
2. 开发人员根据设计稿实现页面
3. 进行代码审查
4. 测试人员进行测试
5. 修复bug，优化性能
6. 部署上线

## 11. 附录

### 11.1 设计资源

- **设计系统文件**：[Figma设计系统链接]
- **组件库文件**：[Figma组件库链接]
- **页面设计文件**：[Figma页面设计链接]

### 11.2 设计参考

- [Material Design](https://material.io/design)
- [Ant Design](https://ant.design/)
- [Tailwind CSS](https://tailwindcss.com/)

### 11.3 设计词汇表

| 术语 | 定义 |
| --- | --- |
| 设计系统 | 一套统一的设计规范和组件库 |
| 响应式设计 | 适配不同屏幕尺寸的设计 |
| 组件库 | 包含所有UI组件的设计规范和代码实现 |
| 微交互 | 小的、细节性的交互效果 |
| 视觉层次 | 通过设计元素建立的视觉优先级 |
| 设计令牌 | 设计系统中定义的可复用设计值 |